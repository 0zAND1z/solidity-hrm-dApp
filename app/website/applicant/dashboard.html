<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <link rel="import" href="../../headers.html">
</head>
<body>
  <div class="container-fluid">
    <h1 class="jumbotron">Aicumen Job Positions</h1>
    <br>
    <ul id="jobsList">
      <li class="row" id="jobsHeader">
        <div class="col-md-4 font-weight-bold">JOB id</div>
        <label class="col-md-4 font-weight-bold">JOB title</label>
        <label class="col-md-4 font-weight-bold">JOB Description</label>
      </li>
    </br>
    <!-- <li class="row"><div class="col-sm"><button class="apply btn" onclick="showApplicationForm()">Apply</button></div></li> -->
  </ul>
</div>
<form method="post()" onsubmit="confirm()">
  <div id="applicationForm" class="form-group" hidden>
    <label for="jobID">JOB id</label><br>
    <input name="jobID" disabled id="jobID" value=""></input><br>
    <label for="emailAddress">Email address</label><br>
    <input required name="email" type="email" class="form-control" id="emailAddress" placeholder="Enter email"><br>
    <label for="fullName">Full Name</label><br>
    <input required name="fullName" type="fullName" class="form-control" id="fullName" placeholder="Full Name"><br>
    <!-- <button type="submit" class="btn btn-success">Submit applicaton</button> -->
  </div>
</form>
</body>

<script type="text/javascript">
$('document').ready(function(){
  //refresh jobsList
  addJobs();
});
function showApplicationForm(){
  document.getElementById("applicationForm").removeAttribute("hidden");
  document.getElementByID("jobID").value;
};
function confirm(){
  alert("Please confirm to submit");
};

function addJobs(){
  var jobsList = '{ "jobs" : [' +
  '{ "jobID":"#123" , "jobTitle":"UI", "jobURL":"Job Details", "jobDescription":"google-docs JD link"},' +
  '{ "jobID":"#345" , "jobTitle":"Full-stack", "jobURL":"Job Details", "jobDescription":"google-docs JD link"} ]}';

  var parsedJson = JSON.parse(jobsList);
  for(i=0; i < parsedJson.jobs.length ; i++){
    var jobs = document.getElementsByClassName("jobs");
    $("#jobsList").append('<li class="row">' +
    '<div class="col-md-4">' + parsedJson.jobs[i].jobID + '</div>' +
    '<a class="col-md-4 font-weight-bold" href="'+ parsedJson.jobs[i].jobURL +'">' + parsedJson.jobs[i].jobTitle + '</div>' +
    '<a class="col-md-4" href="' + parsedJson.jobs[i].jobDescription +'" >  View JD  </div>' +
    '</li>' +
    '<br>');
  };
}
</script>
</html>
